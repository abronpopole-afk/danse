Run samuelmeuli/action-electron-builder@v1

Will run NPM commands in directory "."

Installing dependencies using NPM…

added 10 packages, and audited 870 packages in 4s

102 packages are looking for funding
  run `npm fund` for details

7 vulnerabilities (4 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.

Running the build script…

> rest-express@1.0.0 build
> tsx script/build.ts

building client...
vite v7.1.12 building for production...
transforming...
✓ 2268 modules transformed.
rendering chunks...
[meta-images] no Replit deployment domain found, skipping meta tag updates
computing gzip size...
../dist/public/index.html                                                            1.49 kB │ gzip:   0.59 kB
../dist/public/assets/futuristic_digital_poker_table_top-down_view-BeDi9m7Y.png  1,735.87 kB
../dist/public/assets/index-BYe6wEmX.css                                            99.96 kB │ gzip:  16.78 kB

(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
../dist/public/assets/index-B_5ILkMy.js                                            645.99 kB │ gzip: 196.96 kB
✓ built in 5.35s
building server...

  dist\index.cjs  1.4mb

Done in 190ms

Building and releasing the Electron app…
  • electron-builder  version=26.4.0 os=10.0.26100
  • loaded configuration  file=D:\a\danse\danse\electron-builder.yml
  ⨯ Invalid configuration object. electron-builder 26.4.0 has been initialized using a configuration object that does not match the API schema.
 - configuration.publish should be one of these:
   object { provider, channel?, host?, owner?, private?, protocol?, publishAutoUpdate?, publisherName?, releaseType?, repo?, requestHeaders?, tagNamePrefix?, timeout?, token?, updaterCacheDirName?, vPrefixedTagName? } | object { provider, channel?, host?, projectId?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, token?, updaterCacheDirName?, uploadTarget?, vPrefixedTagName? } | object { bucket, provider, accelerate?, acl?, channel?, encryption?, endpoint?, forcePathStyle?, path?, publishAutoUpdate?, publisherName?, region?, requestHeaders?, storageClass?, timeout?, updaterCacheDirName? } | object { name, provider, region, acl?, channel?, path?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName? } | object { provider, url, channel?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName?, useMultipleRangeRequest? } | object { provider, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updateProvider?, updaterCacheDirName?, <key>: {} } | object { account, product, provider, channel?, host?, platform?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName? } | object { provider, channels?, publishAutoUpdate?, publisherName?, repo?, requestHeaders?, timeout?, updaterCacheDirName? } | object { owner, provider, slug, channel?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, token?, updaterCacheDirName?, username? } | [object { provider, channel?, host?, owner?, private?, protocol?, publishAutoUpdate?, publisherName?, releaseType?, repo?, requestHeaders?, tagNamePrefix?, timeout?, token?, updaterCacheDirName?, vPrefixedTagName? } | object { provider, channel?, host?, projectId?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, token?, updaterCacheDirName?, uploadTarget?, vPrefixedTagName? } | object { bucket, provider, accelerate?, acl?, channel?, encryption?, endpoint?, forcePathStyle?, path?, publishAutoUpdate?, publisherName?, region?, requestHeaders?, storageClass?, timeout?, updaterCacheDirName? } | object { name, provider, region, acl?, channel?, path?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName? } | object { provider, url, channel?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName?, useMultipleRangeRequest? } | object { provider, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updateProvider?, updaterCacheDirName?, <key>: {} } | object { account, product, provider, channel?, host?, platform?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName? } | object { provider, channels?, publishAutoUpdate?, publisherName?, repo?, requestHeaders?, timeout?, updaterCacheDirName? } | object { owner, provider, slug, channel?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, token?, updaterCacheDirName?, username? } | string, ...] | null | string
   -> Publisher configuration. See [Auto Update](./publish.md) for more information.
   Details:
    * configuration.publish.provider should be equal to constant "gitlab"
      -> The provider. Must be `gitlab`.
    * configuration.publish.provider should be equal to constant "s3"
      -> The provider. Must be `s3`.
    * configuration.publish.provider should be equal to constant "spaces"
      -> The provider. Must be `spaces`.
    * configuration.publish.provider should be equal to constant "generic"
      -> The provider. Must be `generic`.
    * configuration.publish.provider should be equal to constant "custom"
      -> The provider. Must be `custom`.
    * configuration.publish.provider should be equal to constant "keygen"
      -> The provider. Must be `keygen`.
    * configuration.publish.provider should be equal to constant "snapStore"
      -> The provider. Must be `snapStore`.
    * configuration.publish.provider should be equal to constant "bitbucket"
      -> The provider. Must be `bitbucket`.
     How to fix:
     1. Open https://www.electron.build/configuration
     2. Search the option name on the page (or type in into Search to find across the docs).
       * Not found? The option was deprecated or not exists (check spelling).
       * Found? Check that the option in the appropriate place. e.g. "title" only in the "dmg", not in the root.
  failedTask=build stackTrace=ValidationError: Invalid configuration object. electron-builder 26.4.0 has been initialized using a configuration object that does not match the API schema.
 - configuration.publish should be one of these:
   object { provider, channel?, host?, owner?, private?, protocol?, publishAutoUpdate?, publisherName?, releaseType?, repo?, requestHeaders?, tagNamePrefix?, timeout?, token?, updaterCacheDirName?, vPrefixedTagName? } | object { provider, channel?, host?, projectId?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, token?, updaterCacheDirName?, uploadTarget?, vPrefixedTagName? } | object { bucket, provider, accelerate?, acl?, channel?, encryption?, endpoint?, forcePathStyle?, path?, publishAutoUpdate?, publisherName?, region?, requestHeaders?, storageClass?, timeout?, updaterCacheDirName? } | object { name, provider, region, acl?, channel?, path?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName? } | object { provider, url, channel?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName?, useMultipleRangeRequest? } | object { provider, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updateProvider?, updaterCacheDirName?, <key>: {} } | object { account, product, provider, channel?, host?, platform?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName? } | object { provider, channels?, publishAutoUpdate?, publisherName?, repo?, requestHeaders?, timeout?, updaterCacheDirName? } | object { owner, provider, slug, channel?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, token?, updaterCacheDirName?, username? } | [object { provider, channel?, host?, owner?, private?, protocol?, publishAutoUpdate?, publisherName?, releaseType?, repo?, requestHeaders?, tagNamePrefix?, timeout?, token?, updaterCacheDirName?, vPrefixedTagName? } | object { provider, channel?, host?, projectId?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, token?, updaterCacheDirName?, uploadTarget?, vPrefixedTagName? } | object { bucket, provider, accelerate?, acl?, channel?, encryption?, endpoint?, forcePathStyle?, path?, publishAutoUpdate?, publisherName?, region?, requestHeaders?, storageClass?, timeout?, updaterCacheDirName? } | object { name, provider, region, acl?, channel?, path?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName? } | object { provider, url, channel?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName?, useMultipleRangeRequest? } | object { provider, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updateProvider?, updaterCacheDirName?, <key>: {} } | object { account, product, provider, channel?, host?, platform?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, updaterCacheDirName? } | object { provider, channels?, publishAutoUpdate?, publisherName?, repo?, requestHeaders?, timeout?, updaterCacheDirName? } | object { owner, provider, slug, channel?, publishAutoUpdate?, publisherName?, requestHeaders?, timeout?, token?, updaterCacheDirName?, username? } | string, ...] | null | string
   -> Publisher configuration. See [Auto Update](./publish.md) for more information.
   Details:
    * configuration.publish.provider should be equal to constant "gitlab"
      -> The provider. Must be `gitlab`.
    * configuration.publish.provider should be equal to constant "s3"
      -> The provider. Must be `s3`.
    * configuration.publish.provider should be equal to constant "spaces"
      -> The provider. Must be `spaces`.
    * configuration.publish.provider should be equal to constant "generic"
      -> The provider. Must be `generic`.
    * configuration.publish.provider should be equal to constant "custom"
      -> The provider. Must be `custom`.
    * configuration.publish.provider should be equal to constant "keygen"
      -> The provider. Must be `keygen`.
    * configuration.publish.provider should be equal to constant "snapStore"
      -> The provider. Must be `snapStore`.
    * configuration.publish.provider should be equal to constant "bitbucket"
      -> The provider. Must be `bitbucket`.
     How to fix:
     1. Open https://www.electron.build/configuration
     2. Search the option name on the page (or type in into Search to find across the docs).
       * Not found? The option was deprecated or not exists (check spelling).
       * Found? Check that the option in the appropriate place. e.g. "title" only in the "dmg", not in the root.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              at validate (D:\a\danse\danse\node_modules\@develar\schema-utils\dist\validate.js:86:11)
    at validateConfiguration (D:\a\danse\danse\node_modules\app-builder-lib\src\util\config\config.ts:239:3)
    at Packager.validateConfig (D:\a\danse\danse\node_modules\app-builder-lib\src\packager.ts:398:5)
    at Packager.build (D:\a\danse\danse\node_modules\app-builder-lib\src\packager.ts:406:5)
    at executeFinally (D:\a\danse\danse\node_modules\builder-util\src\promise.ts:12:14)
D:\a\_actions\samuelmeuli\action-electron-builder\v1\index.js:144
				throw err;
				^

Error: Command failed: npx --no-install electron-builder --windows --publish always --win --x64
    at genericNodeError (node:internal/errors:984:15)
    at wrappedFn (node:internal/errors:538:14)
    at checkExecSyncError (node:child_process:891:11)
    at execSync (node:child_process:963:15)
    at run (D:\a\_actions\samuelmeuli\action-electron-builder\v1\index.js:21:27)
    at runAction (D:\a\_actions\samuelmeuli\action-electron-builder\v1\index.js:132:4)
    at Object.<anonymous> (D:\a\_actions\samuelmeuli\action-electron-builder\v1\index.js:150:1)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32) {
  status: 1,
  signal: null,
  output: [ null, null, null ],
  pid: 5176,
  stdout: null,
  stderr: null
}

Node.js v20.19.5